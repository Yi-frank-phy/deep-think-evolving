# UI/UX 设计规范：Prometheus 控制塔

## 1. 设计哲学：赋能“总设计师”

本UI/UX设计的核心目标是将人类专家从一个被动的“操作员”提升为主动的“总设计师”。界面应服务于专家的直觉和判断力，通过提供高信息密度的可视化与流畅的交互，实现无缝、高效的人机协同。所有设计元素都应以“清晰”、“直观”、“可控”为首要原则。

## 2. 核心组件布局

界面采用三栏式布局：左侧为**关键指标仪表盘**，中部为**并行进化沙盘**（主视图），右侧为**情境式干预面板**（默认隐藏或收起，在需要时展开）。

### 2.1. 中视图：并行进化沙盘 (Main View: Parallel Evolution Sandbox)

这是系统的核心可视化区域，以动态、可交互的“策略树”形式实时展示所有并行搜索线程的演进过程。

-   **可视化形式**: 使用力导向图或分层树状图。
-   **节点 (Node)**: 代表一个策略或解法状态。
    -   **颜色**: 明确表示节点状态。
        -   `🟢 绿色`: **活跃 (Active)** - 正在计算或扩展。
        -   `🟡 黄色`: **待处理/查询 (Pending/Query)** - 等待人类输入或满足特定条件。
        -   `🔵 蓝色`: **已完成/收敛 (Completed/Converged)** - 已达到最终状态。
        -   `🔴 红色`: **已剪枝 (Pruned)** - 已被系统或人类终止。
        -   `⚪️ 灰色`: **待定 (Queued)** - 已生成但尚未开始处理。
    -   **大小**: 节点的尺寸与其累计 `Value_Score` 或已分配的计算资源成正比，让高价值路径一目了然。
    -   **交互**:
        -   **单击**: 在右侧展开“情境式干预面板”，显示该节点的详细信息。
        -   **悬停 (Hover)**: 显示一个包含关键信息（如 `Value_Score`, 当前概念，深度）的tooltip。

### 2.2. 左侧栏：关键指标仪表盘 (KPI Dashboard)

此仪表盘提供系统的宏观健康状况和性能指标，是专家进行高层决策的数据依据。

-   **收敛性指标 (Convergence Metric)**
    -   **形式**: 折线图。
    -   **数据**: 实时绘制得分最高的线程的 `Avg(Value_Score)` 随进化步数的变化。线条趋于平缓表明该策略分支正在收敛。
-   **策略多样性指标 (Strategy Diversity Metric)**
    -   **形式**: 仪表盘或柱状图。
    -   **数据**: 实时显示当前活跃种群的“概念香农熵” `H(Concepts)`。
        -   **高熵 (探索期)**: 仪表盘指针偏向“探索 (Exploration)”区域。
        -   **低熵 (利用期)**: 指针偏向“利用 (Exploitation)”区域。
-   **资源监控 (Resource Monitoring)**
    -   **累计API成本**: 一个清晰的数字，带有预算进度条和预警（如达到预算80%时变黄）。
    -   **活跃线程数**: 当前正在运行的并行线程数量。

### 2.3. 右侧栏：情境式干预面板 (Contextual Intervention Panel)

这是人机交互的核心区域，仅在需要时出现，避免信息过载。

-   **触发方式**:
    1.  用户单击“沙盘”中的任意节点。
    2.  系统触发“查询式中断”。
-   **核心功能**:
    -   **启发式注入 (Heuristic Injection)**:
        -   一个专用的多行文本输入框，标签为“注入启发式指令”。
        -   用户可以输入自然语言建议（例如：“尝试从几何角度分析，而不是代数”）。
        -   一个 `[注入]` 按钮，点击后将该指令作为高优先级信息注入到对应线程的记忆系统中。
    -   **查询式中断处理 (Query-based Interruption Handling)**:
        -   当系统遇到困难（如多个周期分数无提升、置信度低于阈值），此面板会自动弹出。
        -   顶部会用清晰的语言显示系统的问题，例如：“该分支已停滞3个周期，是否需要干预？”
        -   提供一组明确的动作按钮：`[强制继续]`、`[剪枝该分支]`、`[手动注入指令]`、`[请求新策略]`。

## 3. 关键工作流设计

### 3.1. 人机协同的策略分叉 (HIL Strategy Forking)

1.  **策略呈现**: 当“战略架构师”LLM生成初始策略后，UI会以模态窗口或在主视图区域用一组卡片来展示这些策略。
2.  **交互**: 每个策略卡片都包含其 `strategy_name`, `rationale`, 和 `initial_assumption`。
3.  **操作**: 用户可以通过卡片上的复选框**确认**，通过点击文本进行**修改**，也可以通过 `[添加新策略]` 按钮打开一个表单进行**补充**。
4.  **实例化**: 用户点击 `[启动并行搜索]` 后，所有被确认的策略将作为根节点在“并行进化沙盘”中被可视化地创建出来。

## 4. 系统配置与设置 (System Configuration & Setup)

为确保人类专家能够有效引导系统，初始配置阶段至关重要。这部分应通过一个“引导设置向导”来完成。

-   **进化参数设置**:
    -   在向导中，应有一个专门的“进化参数”配置页面。
    -   **关键控件：最大探索温度 (`T_max`)**
        -   **形式**: 建议使用带有数字输入的滑块（Slider）。
        -   **标签**: “最大探索温度 (T_max)”
        -   **规范**:
            -   **范围**: `0.0` — `2.0`
            -   **步长**: `0.1`
            -   **默认值**: `1.0`
        -   **辅助提示 (Tooltip)**:
            > "此参数控制系统初期的探索强度和模型生成的多样性。较高的值（如1.5-2.0）鼓励大胆创新，适用于开放性问题；较低的值（如0.5-1.0）则倾向于更稳健的收敛。"
    -   **其他参数**: 此处还可配置能量函数权重（`w_v`, `w_d`）等高级参数，但可默认隐藏在“高级设置”下。